<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Device</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
<link rel="start" href="index.html" title="libgpod Reference Manual">
<link rel="up" href="ch02.html" title="iPod database components">
<link rel="prev" href="libgpod-Artwork.html" title="Artwork">
<meta name="generator" content="GTK-Doc V1.7 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="chapter" href="ch01.html" title="iPod database">
<link rel="chapter" href="ch02.html" title="iPod database components">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libgpod-Artwork.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libgpod Reference Manual</th>
<td>&#160;</td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2593802" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2602112" class="shortcut">Description</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="libgpod-Device"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2593802"></a><span class="refentrytitle">Device</span>
</h2>
<p>Device &#8212; Data structure holding information about the iPod (model, mount point, ...)</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



            <a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a>;
<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a>* <a href="libgpod-Device.html#itdb-device-new">itdb_device_new</a>                (void);
void        <a href="libgpod-Device.html#itdb-device-free">itdb_device_free</a>                (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device);
void        <a href="libgpod-Device.html#itdb-device-set-mountpoint">itdb_device_set_mountpoint</a>      (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device,
                                             const gchar *mp);
gboolean    <a href="libgpod-Device.html#itdb-device-read-sysinfo">itdb_device_read_sysinfo</a>        (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device);
gchar*      <a href="libgpod-Device.html#itdb-device-get-sysinfo">itdb_device_get_sysinfo</a>         (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device,
                                             const gchar *field);
enum        <a href="libgpod-Device.html#Itdb-IpodModel">Itdb_IpodModel</a>;
            <a href="libgpod-Device.html#Itdb-ArtworkFormat">Itdb_ArtworkFormat</a>;
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2602112"></a><h2>Description</h2>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2602128"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2602138"></a><h3>
<a name="Itdb-Device"></a>Itdb_Device</h3>
<a class="indexterm" name="id2602150"></a><pre class="programlisting">typedef struct {
    gchar *mountpoint;    /* mountpoint of the iPod */
    gint   musicdirs;     /* number of /iPod_Control/Music/F.. dirs */
    guint  byte_order;    /* G_LITTLE_ENDIAN "regular" endianness 
			   * G_BIG_ENDIAN "reversed" endianness (e.g. mobile
			   * phone iTunesDBs)
			   */
    GHashTable *sysinfo;  /* hash with value/key pairs of all entries
			   * in Device/SysInfo */
    gboolean sysinfo_changed; /* Has the sysinfo hash been changed by
				 the user (itdb_set_sysinfo) */
} Itdb_Device;
</pre>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2564681"></a><h3>
<a name="itdb-device-new"></a>itdb_device_new ()</h3>
<a class="indexterm" name="id2589961"></a><pre class="programlisting"><a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a>* itdb_device_new                (void);</pre>
<p>
Creates a new <a href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a> structure</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> a newly allocated <a href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a> which must be freed with
<a href="libgpod-Device.html#itdb-device-free"><code class="function">itdb_device_free()</code></a> when no longer needed
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2596116"></a><h3>
<a name="itdb-device-free"></a>itdb_device_free ()</h3>
<a class="indexterm" name="id2596129"></a><pre class="programlisting">void        itdb_device_free                (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device);</pre>
<p>
Frees memory used by <em class="parameter"><code>device</code></em></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>device</code></em>&#160;:</span></td>
<td> an <a href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2596189"></a><h3>
<a name="itdb-device-set-mountpoint"></a>itdb_device_set_mountpoint ()</h3>
<a class="indexterm" name="id2596200"></a><pre class="programlisting">void        itdb_device_set_mountpoint      (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device,
                                             const gchar *mp);</pre>
<p>
Sets the mountpoint of <em class="parameter"><code>device</code></em> to <em class="parameter"><code>mp</code></em> and update the cached device 
information (in particular, re-read the SysInfo file)</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>device</code></em>&#160;:</span></td>
<td> an <a href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>mp</code></em>&#160;:</span></td>
<td> the new mount point
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2605941"></a><h3>
<a name="itdb-device-read-sysinfo"></a>itdb_device_read_sysinfo ()</h3>
<a class="indexterm" name="id2605953"></a><pre class="programlisting">gboolean    itdb_device_read_sysinfo        (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device);</pre>
<p>
Reads the SysInfo file and stores information in device-&gt;sysinfo for
later use.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>device</code></em>&#160;:</span></td>
<td> an <a href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> TRUE if file could be read, FALSE otherwise 
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2606021"></a><h3>
<a name="itdb-device-get-sysinfo"></a>itdb_device_get_sysinfo ()</h3>
<a class="indexterm" name="id2606032"></a><pre class="programlisting">gchar*      itdb_device_get_sysinfo         (<a href="libgpod-Device.html#Itdb-Device">Itdb_Device</a> *device,
                                             const gchar *field);</pre>
<p>
Retrieve specified field from the SysInfo file.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>device</code></em>&#160;:</span></td>
<td> an <a href="libgpod-Device.html#Itdb-Device"><span class="type">Itdb_Device</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>field</code></em>&#160;:</span></td>
<td> field to retrive information from
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the information associated with <em class="parameter"><code>field</code></em>, or NULL if <em class="parameter"><code>field</code></em>
couldn't be found. <code class="function">g_free()</code> after use
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2606140"></a><h3>
<a name="Itdb-IpodModel"></a>enum Itdb_IpodModel</h3>
<a class="indexterm" name="id2596279"></a><pre class="programlisting">typedef enum {
    ITDB_IPOD_MODEL_INVALID,
    ITDB_IPOD_MODEL_UNKNOWN,
    ITDB_IPOD_MODEL_COLOR,
    ITDB_IPOD_MODEL_COLOR_U2,
    ITDB_IPOD_MODEL_REGULAR,
    ITDB_IPOD_MODEL_REGULAR_U2,
    ITDB_IPOD_MODEL_MINI,
    ITDB_IPOD_MODEL_MINI_BLUE,
    ITDB_IPOD_MODEL_MINI_PINK,
    ITDB_IPOD_MODEL_MINI_GREEN,
    ITDB_IPOD_MODEL_MINI_GOLD,
    ITDB_IPOD_MODEL_SHUFFLE,
    ITDB_IPOD_MODEL_NANO_WHITE,
    ITDB_IPOD_MODEL_NANO_BLACK,
    ITDB_IPOD_MODEL_VIDEO_WHITE,
    ITDB_IPOD_MODEL_VIDEO_BLACK,
    ITDB_IPOD_MODEL_MOBILE_1,
    ITDB_IPOD_MODEL_VIDEO_U2,
    ITDB_IPOD_MODEL_NANO_SILVER,
    ITDB_IPOD_MODEL_NANO_BLUE,
    ITDB_IPOD_MODEL_NANO_GREEN,
    ITDB_IPOD_MODEL_NANO_PINK
} Itdb_IpodModel;
</pre>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2596307"></a><h3>
<a name="Itdb-ArtworkFormat"></a>Itdb_ArtworkFormat</h3>
<a class="indexterm" name="id2596319"></a><pre class="programlisting">typedef struct {
	ItdbThumbType type;
	gint16 width;
	gint16 height;
	gint16 correlation_id;
} Itdb_ArtworkFormat;
</pre>
<p>

</p>
</div>
</div>
</div>
</body>
</html>
